import{_ as f,t as n,v as a,L as y,M as v,x as i,N as w,O as u,P as p,Q as x,z as l,R as b,y as T,B as k,S as E}from"./entry.Cc7v1zwF.js";import C from"./Icon.BfCiyYIT.js";import"./index.CzCfPO9Z.js";const S={data(){return{newTask:""}},methods:{addTask(){this.$emit("addTask",this.newTask),this.resetNewTask()},resetNewTask(){this.newTask=""}}},I={class:"flex items-center space-x-2 mt-5"};function N(t,e,d,g,c,s){return n(),a("div",I,[y(i("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>c.newTask=r),onKeydown:e[1]||(e[1]=w((...r)=>s.addTask&&s.addTask(...r),["enter"])),placeholder:"Ingrese una nueva tarea...",class:"p-2 border border-gray-300 focus:outline-none focus:border-green-500 rounded-md"},null,544),[[v,c.newTask]]),i("button",{onClick:e[2]||(e[2]=(...r)=>s.addTask&&s.addTask(...r)),class:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-all duration-300 ease-in-out"},"Agregar")])}const j=f(S,[["render",N]]),V={data(){return{isEditing:!1,idEditable:null}},props:{tasks:Array},computed:{incompleteTasks(){return this.tasks.filter(t=>!t.completed)},completedTasks(){return this.tasks.filter(t=>t.completed)}},methods:{toggleTask(t){this.$emit("toggle-task",t)},removeTask(t){this.$emit("remove-task",t)},editTask(t){this.idEditable=t,this.isEditing=!0,this.editedTaskName=this.getTaskById(t).name},saveTask(t){this.$emit("save-task",t,this.editedTaskName),this.cancelEdit()},cancelEdit(){this.idEditable=null,this.isEditing=!1,this.editedTaskName=""},getTaskById(t){return this.tasks.find(e=>e.id===t)}}},B={class:"flex"},D={class:"flex-1"},L={key:0,class:"mt-4 text-2xl font-bold text-indigo-600 mb-4"},M={key:1,class:"divide-y"},A={class:"flex items-center mb-2 md:mb-0"},R={key:0,class:"mr-2 text-green-500"},U={key:1},z=["onUpdate:modelValue"],K={class:"flex items-center space-x-2"},F=["onClick"],G=["onClick"],O=["onClick"],P=["onClick"],Q={key:2,class:"text-white text-2xl font-bold mt-4"},q={class:"ml-4 flex-2"},H={key:0,class:"mt-4 text-2xl font-bold text-green-600"},J={key:1,class:"mt-4 divide-y"},W={class:"flex items-center mb-2 md:mb-0"},X={class:"mr-2 text-green-500"},Y={class:"flex items-center space-x-2"},Z=["onClick"];function $(t,e,d,g,c,s){const r=C;return n(),a("div",B,[i("div",D,[s.incompleteTasks.length>0?(n(),a("h2",L,"Lista pendientes:")):u("",!0),s.incompleteTasks.length>0?(n(),a("ul",M,[(n(!0),a(p,null,x(s.incompleteTasks,(o,_)=>(n(),a("li",{key:_,class:"flex flex-col md:flex-row items-center justify-between p-2 bg-white shadow-md rounded-lg mb-2"},[i("div",A,[o.completed?(n(),a("span",R,[l(r,{name:"streamline-emojis:sparkles"})])):u("",!0),o.id===c.idEditable?(n(),a("span",U,[y(i("input",{class:"border border-gray-400 p-1 focus:outline-none focus:ring focus:border-blue-300 rounded-md","onUpdate:modelValue":m=>o.name=m},null,8,z),[[v,o.name]])])):(n(),a("span",{key:2,class:b({"line-through":o.completed,"text-gray-700":!o.completed})},T(o.name),3))]),i("div",K,[i("button",{onClick:m=>s.toggleTask(o.id),class:"ml-2 px-2 py-1 bg-blue-500 text-white rounded"},[l(r,{name:"flat-color-icons:ok"}),k(" "+T(o.completed?"Desmarcar":"Marcar"),1)],8,F),i("button",{onClick:m=>s.removeTask(o.id),class:"px-2 py-1 bg-red-500 text-white rounded focus:outline-none focus:ring focus:border-red-300"},[l(r,{name:"fxemoji:ballottboxwithscriptx"}),k(" Eliminar ")],8,G),c.isEditing?(n(),a("button",{key:0,onClick:m=>s.saveTask(o.id),class:"px-2 py-1 bg-green-500 text-white rounded focus:outline-none focus:ring focus:border-green-300"},[l(r,{name:"dashicons:cloud-saved"}),k(" Guardar ")],8,O)):u("",!0),c.isEditing?(n(),a("button",{key:1,onClick:e[0]||(e[0]=(...m)=>s.cancelEdit&&s.cancelEdit(...m)),class:"px-2 py-1 bg-red-500 text-white rounded focus:outline-none focus:ring focus:border-red-300"},[l(r,{name:"lets-icons:cancel-fill"}),k(" Cancelar ")])):(n(),a("button",{key:2,onClick:m=>s.editTask(o.id),class:"px-2 py-1 bg-yellow-500 text-white rounded focus:outline-none focus:ring focus:border-yellow-300"},[l(r,{name:"fxemoji:pencil"}),k(" Editar ")],8,P))])]))),128))])):(n(),a("p",Q,"No hay tareas disponibles!."))]),i("div",q,[s.completedTasks.length>0?(n(),a("h2",H,"Lista completadas:")):u("",!0),s.completedTasks.length>0?(n(),a("ul",J,[(n(!0),a(p,null,x(s.completedTasks,(o,_)=>(n(),a("li",{key:_,class:"flex flex-col md:flex-row items-center justify-between p-2 bg-white shadow-md rounded-lg mb-2"},[i("div",W,[i("span",X,[l(r,{name:"streamline-emojis:sparkles"})]),i("span",{class:b({"line-through":o.completed,"text-gray-700":!o.completed})},T(o.name),3)]),i("div",Y,[i("button",{onClick:m=>s.toggleTask(o.id),class:"ml-2 px-2 py-1 bg-blue-500 text-white rounded"},[l(r,{name:"flat-color-icons:ok"}),k(" "+T(o.completed?"Desmarcar":"Marcar"),1)],8,Z)])]))),128))])):u("",!0)])])}const ee=f(V,[["render",$]]),h=E({id:"StateTaskStore",state:()=>({tasks:[]}),actions:{addTask(t){let e={id:Math.random().toString(36).substr(2,9),timestamp:new Date().getTime(),name:t,completed:!1};this.tasks.push(e)},toggleTask(t){const e=this.tasks.findIndex(d=>d.id===t);e!==-1&&(this.tasks[e].completed=!this.tasks[e].completed)},removeTask(t){const e=this.tasks.findIndex(d=>d.id===t);e!==-1&&this.tasks.splice(e,1)},getTasks(){return this.tasks},editTask(t,e){const d=this.tasks.findIndex(g=>g.id===t);d!==-1&&(this.tasks[d].name=e.name)}},persist:!0}),te={data(){return{newTask:"",tasks:[]}},mounted(){const t=h();this.tasks=t.getTasks()},methods:{addTask(t){try{const e=h();t.trim()!==""&&(e.addTask(t.trim()),this.tasks=e.getTasks())}catch(e){console.error("Error adding task:",e)}},removeTask(t){try{const e=h();e.removeTask(t),this.tasks=e.getTasks()}catch(e){console.error("Error removing task:",e)}},toggleTask(t){try{const e=h();e.toggleTask(t),this.tasks=e.getTasks()}catch(e){console.error("Error toggling task:",e)}},editTask(t,e){try{h().editTask(t,e)}catch(d){console.error("Error editing task:",d)}}}};function se(t,e,d,g,c,s){const r=j,o=ee;return n(),a(p,null,[l(r,{onAddTask:s.addTask},null,8,["onAddTask"]),l(o,{tasks:c.tasks,onRemoveTask:s.removeTask,onToggleTask:s.toggleTask,onEditTask:s.editTask},null,8,["tasks","onRemoveTask","onToggleTask","onEditTask"])],64)}const re=f(te,[["render",se]]);export{re as default};
